<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12121</title>
</head>
<body>
    <script>
        //   // 规则复现就要用递归
          const arr = [1,2,3,[4,[1,2,3,[1,2,3,4]],5],6,7]
        //   function convert(arr) {  // 遇到数组递归
        //     var res = []
        //     arr.forEach(item=>{
        //         console.log(item)
        //         if(typeof item === 'number'){
        //             res.push({val:item})
        //         } else if(Array.isArray(item)) {
        //             res.push({children:convert([...item])})
        //         }
        //     })
        //     console.log(res)
        //     return res
        //   }
        //   convert(arr)
        function convert(item) {
            if(typeof item == 'number'){
                return {
                    value:item
                }
            } else if(Array.isArray(item)) {
                return {
                    children:item.map(item=>convert(item))
                }
            }
        }
        let con = convert(arr)
        console.log(con)
    </script>
</body>
</html>